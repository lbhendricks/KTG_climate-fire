---
title: "Ketapang Climate and Fire Histograms by Year"
output:
  html_document: default
  pdf_document: default
---
Some code to read in the fire detections that have already been cut down to just the area within the buffer, and make the columns be the correct class.
```{r}
## create a mini function that makes the date of the detected fire be read in as a POSIXct date, rather than as a character or a string
setClass('yyyymmdd')
setAs("character","yyyymmdd", function(from) as.Date(from, format="%Y%m%d"))

## using POSIXct would work too, though this incorporates time zones (which could be good or bad!)
# setClass('yyyymmdd')
# setAs("character","yyyymmdd", function(from) as.POSIXct(from, format="%Y%m%d"))


# read in the data
detections_500km<-read.table("/Users/laurenhendricks/Documents/Borneo/Ketapang_ClimateFire/mcd14ml_KTG_500km.txt",sep=" ",header = T,colClasses = c("yyyymmdd","character","factor","numeric","numeric","numeric","numeric","integer","numeric","integer","factor"))

# pull out only the year. Note that this way of doing it gets teh year as a character (so it's no longer a real date) but this makes it possible for use to make a better histogram
detections_500km$year<-format(detections_500km$YYYYMMDD,"%Y")

# doing it this way instead of using the histogram function to make slightly prettier barplot
barplot(table(detections_500km$year),main="Number of Fire Detections: 500 km",xlab="Year",ylab="",las=2)
```

Also something to think about is that this MODIS product classifies things by type. The options are: 0 = presumed vegetation fire; 1 = active volcano;
2 = other static land source; 3 = offshore. It'd be useful to know how many of each type there are in this data set. 
```{r}
table(detections_500km$type)
```
So we can see that the vast majority of them are presumed to be vegetation fire, but a non-negligible amount are other types (about 2%). (No volcanoes though! Probably would have some show up if we included Java...)

```{r}
# read in the data
detections_250km<-read.table("/Users/laurenhendricks/Documents/Borneo/Ketapang_ClimateFire/mcd14ml_KTG_250km.txt",sep=" ",header = T,colClasses = c("yyyymmdd","character","factor","numeric","numeric","numeric","numeric","integer","numeric","integer","factor"))

# pull out only the year. Note that this way of doing it gets teh year as a character (so it's no longer a real date) but this makes it possible for use to make a better histogram
detections_250km$year<-format(detections_250km$YYYYMMDD,"%Y")

# doing it this way instead of using the histogram function to make slightly prettier barplot
barplot(table(detections_250km$year),main="Number of Fire Detections: 250 km",xlab="Year",ylab="",las=2)
```


```{r}
# read in the data
detections_50km<-read.table("/Users/laurenhendricks/Documents/Borneo/Ketapang_ClimateFire/mcd14ml_KTG_50km.txt",sep=" ",header = T,colClasses = c("yyyymmdd","character","factor","numeric","numeric","numeric","numeric","integer","numeric","integer","factor"))

# pull out only the year. Note that this way of doing it gets teh year as a character (so it's no longer a real date) but this makes it possible for use to make a better histogram
detections_50km$year<-format(detections_50km$YYYYMMDD,"%Y")

# doing it this way instead of using the histogram function to make slightly prettier barplot
barplot(table(detections_50km$year),main="Number of Fire Detections: 50 km",xlab="Year",ylab="",las=2)
```


```{r}
# read in the data
detections_5km<-read.table("/Users/laurenhendricks/Documents/Borneo/Ketapang_ClimateFire/mcd14ml_KTG_5km.txt",sep=" ",header = T,colClasses = c("yyyymmdd","character","factor","numeric","numeric","numeric","numeric","integer","numeric","integer","factor"))

# pull out only the year. Note that this way of doing it gets teh year as a character (so it's no longer a real date) but this makes it possible for use to make a better histogram
detections_5km$year<-format(detections_5km$YYYYMMDD,"%Y")

# doing it this way instead of using the histogram function to make slightly prettier barplot
barplot(table(detections_5km$year),main="Number of Fire Detections: 5 km",xlab="Year",ylab="",las=2)
```